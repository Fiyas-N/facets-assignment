{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nfiya\\\\OneDrive\\\\Desktop\\\\facets\\\\client\\\\src\\\\context\\\\CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nconst ToastContext = /*#__PURE__*/createContext();\nexport const useCart = () => {\n  _s();\n  return useContext(CartContext);\n};\n_s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const useToast = () => {\n  _s2();\n  return useContext(ToastContext);\n};\n_s2(useToast, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s3();\n  const [cart, setCart] = useState(() => {\n    const saved = localStorage.getItem('cart');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [loyaltyLevel, setLoyaltyLevel] = useState('Bronze');\n  const [pricingDetails, setPricingDetails] = useState(null);\n  const [toast, setToast] = useState(null);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n  const showToast = (message, type = 'info') => {\n    setToast({\n      message,\n      type\n    });\n    setTimeout(() => setToast(null), 2000);\n  };\n  const addToCart = (product, quantity) => {\n    setCart(prev => {\n      const existing = prev.find(item => item.productId === product._id);\n      let updated;\n      if (existing) {\n        updated = prev.map(item => item.productId === product._id ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      } else {\n        updated = [...prev, {\n          productId: product._id,\n          name: product.name,\n          category: product.category,\n          price: product.price,\n          quantity\n        }];\n      }\n      showToast(`${product.name} added to cart`, 'success');\n      return updated;\n    });\n  };\n  const removeFromCart = productId => {\n    setCart(prev => {\n      const removed = prev.find(item => item.productId === productId);\n      showToast(`${(removed === null || removed === void 0 ? void 0 : removed.name) || 'Item'} removed from cart`, 'error');\n      return prev.filter(item => item.productId !== productId);\n    });\n  };\n  const updateQuantity = (productId, quantity) => {\n    setCart(prev => prev.map(item => item.productId === productId ? {\n      ...item,\n      quantity\n    } : item));\n  };\n  const clearCart = () => {\n    setCart([]);\n    showToast('Cart cleared', 'error');\n  };\n  return /*#__PURE__*/_jsxDEV(ToastContext.Provider, {\n    value: {\n      toast\n    },\n    children: /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        cart,\n        setCart,\n        loyaltyLevel,\n        setLoyaltyLevel,\n        pricingDetails,\n        setPricingDetails,\n        addToCart,\n        removeFromCart,\n        updateQuantity,\n        clearCart\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s3(CartProvider, \"EY6g0rOGE/mAHrv0xcrhxKwL9JQ=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","CartContext","ToastContext","useCart","_s","useToast","_s2","CartProvider","children","_s3","cart","setCart","saved","localStorage","getItem","JSON","parse","loyaltyLevel","setLoyaltyLevel","pricingDetails","setPricingDetails","toast","setToast","setItem","stringify","showToast","message","type","setTimeout","addToCart","product","quantity","prev","existing","find","item","productId","_id","updated","map","name","category","price","removeFromCart","removed","filter","updateQuantity","clearCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/nfiya/OneDrive/Desktop/facets/client/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst CartContext = createContext();\r\nconst ToastContext = createContext();\r\n\r\nexport const useCart = () => useContext(CartContext);\r\nexport const useToast = () => useContext(ToastContext);\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState(() => {\r\n    const saved = localStorage.getItem('cart');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n  const [loyaltyLevel, setLoyaltyLevel] = useState('Bronze');\r\n  const [pricingDetails, setPricingDetails] = useState(null);\r\n  const [toast, setToast] = useState(null);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n  }, [cart]);\r\n\r\n  const showToast = (message, type = 'info') => {\r\n    setToast({ message, type });\r\n    setTimeout(() => setToast(null), 2000);\r\n  };\r\n\r\n  const addToCart = (product, quantity) => {\r\n    setCart(prev => {\r\n      const existing = prev.find(item => item.productId === product._id);\r\n      let updated;\r\n      if (existing) {\r\n        updated = prev.map(item =>\r\n          item.productId === product._id\r\n            ? { ...item, quantity: item.quantity + quantity }\r\n            : item\r\n        );\r\n      } else {\r\n        updated = [...prev, { productId: product._id, name: product.name, category: product.category, price: product.price, quantity }];\r\n      }\r\n      showToast(`${product.name} added to cart`, 'success');\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (productId) => {\r\n    setCart(prev => {\r\n      const removed = prev.find(item => item.productId === productId);\r\n      showToast(`${removed?.name || 'Item'} removed from cart`, 'error');\r\n      return prev.filter(item => item.productId !== productId);\r\n    });\r\n  };\r\n\r\n  const updateQuantity = (productId, quantity) => {\r\n    setCart(prev => prev.map(item =>\r\n      item.productId === productId ? { ...item, quantity } : item\r\n    ));\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n    showToast('Cart cleared', 'error');\r\n  };\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ toast }}>\r\n      <CartContext.Provider value={{ cart, setCart, loyaltyLevel, setLoyaltyLevel, pricingDetails, setPricingDetails, addToCart, removeFromCart, updateQuantity, clearCart }}>\r\n        {children}\r\n      </CartContext.Provider>\r\n    </ToastContext.Provider>\r\n  );\r\n}; "],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AACnC,MAAMO,YAAY,gBAAGP,aAAa,CAAC,CAAC;AAEpC,OAAO,MAAMQ,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMR,UAAU,CAACK,WAAW,CAAC;AAAA;AAACG,EAAA,CAAxCD,OAAO;AACpB,OAAO,MAAME,QAAQ,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMV,UAAU,CAACM,YAAY,CAAC;AAAA;AAACI,GAAA,CAA1CD,QAAQ;AAErB,OAAO,MAAME,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,MAAM;IACrC,MAAMe,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC1C,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,EAAE;EACvC,CAAC,CAAC;EACF,MAAM,CAACK,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,QAAQ,CAAC;EAC1D,MAAM,CAACsB,cAAc,EAAEC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACde,YAAY,CAACU,OAAO,CAAC,MAAM,EAAER,IAAI,CAACS,SAAS,CAACd,IAAI,CAAC,CAAC;EACpD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMe,SAAS,GAAGA,CAACC,OAAO,EAAEC,IAAI,GAAG,MAAM,KAAK;IAC5CL,QAAQ,CAAC;MAAEI,OAAO;MAAEC;IAAK,CAAC,CAAC;IAC3BC,UAAU,CAAC,MAAMN,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;EACxC,CAAC;EAED,MAAMO,SAAS,GAAGA,CAACC,OAAO,EAAEC,QAAQ,KAAK;IACvCpB,OAAO,CAACqB,IAAI,IAAI;MACd,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKN,OAAO,CAACO,GAAG,CAAC;MAClE,IAAIC,OAAO;MACX,IAAIL,QAAQ,EAAE;QACZK,OAAO,GAAGN,IAAI,CAACO,GAAG,CAACJ,IAAI,IACrBA,IAAI,CAACC,SAAS,KAAKN,OAAO,CAACO,GAAG,GAC1B;UAAE,GAAGF,IAAI;UAAEJ,QAAQ,EAAEI,IAAI,CAACJ,QAAQ,GAAGA;QAAS,CAAC,GAC/CI,IACN,CAAC;MACH,CAAC,MAAM;QACLG,OAAO,GAAG,CAAC,GAAGN,IAAI,EAAE;UAAEI,SAAS,EAAEN,OAAO,CAACO,GAAG;UAAEG,IAAI,EAAEV,OAAO,CAACU,IAAI;UAAEC,QAAQ,EAAEX,OAAO,CAACW,QAAQ;UAAEC,KAAK,EAAEZ,OAAO,CAACY,KAAK;UAAEX;QAAS,CAAC,CAAC;MACjI;MACAN,SAAS,CAAC,GAAGK,OAAO,CAACU,IAAI,gBAAgB,EAAE,SAAS,CAAC;MACrD,OAAOF,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,cAAc,GAAIP,SAAS,IAAK;IACpCzB,OAAO,CAACqB,IAAI,IAAI;MACd,MAAMY,OAAO,GAAGZ,IAAI,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKA,SAAS,CAAC;MAC/DX,SAAS,CAAC,GAAG,CAAAmB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEJ,IAAI,KAAI,MAAM,oBAAoB,EAAE,OAAO,CAAC;MAClE,OAAOR,IAAI,CAACa,MAAM,CAACV,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKA,SAAS,CAAC;IAC1D,CAAC,CAAC;EACJ,CAAC;EAED,MAAMU,cAAc,GAAGA,CAACV,SAAS,EAAEL,QAAQ,KAAK;IAC9CpB,OAAO,CAACqB,IAAI,IAAIA,IAAI,CAACO,GAAG,CAACJ,IAAI,IAC3BA,IAAI,CAACC,SAAS,KAAKA,SAAS,GAAG;MAAE,GAAGD,IAAI;MAAEJ;IAAS,CAAC,GAAGI,IACzD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMY,SAAS,GAAGA,CAAA,KAAM;IACtBpC,OAAO,CAAC,EAAE,CAAC;IACXc,SAAS,CAAC,cAAc,EAAE,OAAO,CAAC;EACpC,CAAC;EAED,oBACEzB,OAAA,CAACE,YAAY,CAAC8C,QAAQ;IAACC,KAAK,EAAE;MAAE5B;IAAM,CAAE;IAAAb,QAAA,eACtCR,OAAA,CAACC,WAAW,CAAC+C,QAAQ;MAACC,KAAK,EAAE;QAAEvC,IAAI;QAAEC,OAAO;QAAEM,YAAY;QAAEC,eAAe;QAAEC,cAAc;QAAEC,iBAAiB;QAAES,SAAS;QAAEc,cAAc;QAAEG,cAAc;QAAEC;MAAU,CAAE;MAAAvC,QAAA,EACpKA;IAAQ;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACW;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAE5B,CAAC;AAAC5C,GAAA,CA9DWF,YAAY;AAAA+C,EAAA,GAAZ/C,YAAY;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}